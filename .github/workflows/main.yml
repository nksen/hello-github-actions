# @format

name: A workflow for my Hello World file
on:
  repository_dispatch:
    types: launch
jobs:
  prep:
    name: Hello world action
    runs-on: ubuntu-latest
    steps:
      - run: HOTELS=$(curl -XGET 'http://3a3776fcc9d7.ngrok.io/admin/hotels') && echo "::set-output name=HOTELS::$HOTELS" && echo $HOTELS
      - run: env
  build:
    needs: prep
    runs-on: ubuntu-latest
    strategy:
      matrix:
        hotelInfo: ${{fromJSON(needs.prep.outputs.HOTELS)}}
    steps:
      - run: echo ${{ matrix.hotelInfo }}
